<!--
       __
      /\ \__  __    __
  ____\ \ ,_\/\_\  /\_\    ___        __  __    ___
 /',__\\ \ \/\/\ \ \/\ \ /' _ `\     /\ \/\ \  /'___\
/\__, `\\ \ \_\ \ \ \ \ \/\ \/\ \  __\ \ \_/ |/\ \__/
\/\____/ \ \__\\ \_\_\ \ \ \_\ \_\/\_\\ \___/ \ \____\
 \/___/   \/__/ \/_/\ \_\ \/_/\/_/\/_/ \/__/   \/____/
                   \ \____/
                    \/___/

This website is build and maintained by me (Stijn van Cuijk, hello@stijn.vc)
It's made possible by the following open source projects:
- Jekyll
- jQuery
- masonry
- Zoom.js
- Normalize.css
- FitVids.js

You can view the source of this website on Github: https://github.com/steinvc/personal-website
-->
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>
      
      Password Generator — Stijn van Cuijk
      
    </title>
    <meta name="description" content="Generate password from two strings.">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ff3200">
    <meta name="msapplication-TileColor" content="#ff3200">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="/js/jquery.fitvids.js"></script>
    <script src="/js/masonry.pkgd.min.js"></script>
    <script src="/js/imagesloaded.pkgd.min.js"></script>

  </head>

<body id="page">
    <div class="wrapper">
<header class="clearfix">
  <div class="title">
    <h1 ><a href="/">Stijn van Cuijk</a></h1>
  </div>
  <nav>
    <a class="projects" href="/">Projects</a>
    <a class="about" href="/about">About</a>
  </nav>
</header>


<div id="main">
  <article>
    <h1>Password Generator</h1>
    <div class="box">
  <input placeholder="Master password" id="master" class="input" type="number" pattern="[0-9]*" inputmode="numeric" min="1111" max="9999" style="-webkit-text-security: disc;" autofocus />
  <input placeholder="Value" id="value" class="input" type="password" value="">
  <button>Generate</button>
  <div class="result"><span>...</span></div>
</div>

<script src="/pwg/crypto-js.js"></script>
<script>
function copyToClipboard(element) {
  var $temp = $("<input>");
  $("body").append($temp);
  $temp.val($(element).text()).select();
  document.execCommand("copy");
  $temp.remove();
}
  function encrypt(value, master){
    var hash = CryptoJS.HmacSHA256(value, master);
    var base64 = CryptoJS.enc.Base64.stringify(hash).substr(6,10);
    return base64;
  };
  function run(value, master){
    if (value != "" && master != "") {
      var add = "";
      while( !/\d/.test(encrypt(value + add, master)) || !/[a-z]/.test(encrypt(value + add, master)) || !/[A-Z]/.test(encrypt(value + add, master)) || /[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g.test(encrypt(value + add, master)) ){
        add += "0";
        console.log("yeah boi");
      }
      return encrypt(value + add, master);
    } else {
      return "<span>...</span>";
    }
  }
  $('button').on("click", function() {
    $('.result').html(run($('#value').val(), $('#master').val()));
    console.log(run($('#value').val(), $('#master').val()));
    copyToClipboard('.result');
    $('#value').val('');
    $('#master').val('');
  });
  $(document).keypress(function(e) {
    if(e.which == 13) {
      $('.result').html(run($('#value').val(), $('#master').val()));
      console.log(run($('#value').val(), $('#master').val()));
      copyToClipboard('.result');
      $('#value').val('');
      $('#master').val('');
    }
  });
</script>
<style>
.input {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 15px;
  margin-bottom: 30px;
  font-weight: 500;
  border: 1px solid #ccc;
}
button {
  padding: 15px;
  margin-bottom: 30px;
  width: 100%;
  display: block;
  background-color: rgba(255, 50, 0, 1);
  border: none;
  color: white;
  cursor: pointer;
  font-weight: 700;
}
button:focus,
input:focus {
  outline: 3px solid black;
}
button:active {
  background-color: black;
  color: white;
}
.result {
  padding: 15px;
  text-align: center;
  font-weight: 700;
  font-size: 2em;
  background-color: #eee;
  border: 1px solid #ccc;
}
.result span {
  font-weight: 500;
  color: #ccc;
}
</style>

  </article>
</div>


<script>
$( "p:has(img)" ).addClass( "img" );
</script>

<footer>
  <p><small>© 2018 Stijn van Cuijk — contact@stijn.vc</small></p>
</footer>


<!-- <script src="/js/pagetransition.js"></script> -->
<script>
  var $grid = $('.grid').masonry({
    itemSelector: '.grid-item',
    columnWidth: '.grid-sizer',
    percentPosition: true,
    gutter: 30,
    transitionDuration: 0
  });

  $grid.imagesLoaded().progress( function() {
    $grid.masonry('layout');
  });
  $(document).ready(function(){
    $("#main").fitVids();
  });

</script>
</body>
</html>

</div>
